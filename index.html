<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PMè©•ä¼°ç³»çµ±</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
* { margin: 0; padding: 0; box-sizing: border-box; }

body {
font-family: â€˜Microsoft JhengHeiâ€™, sans-serif;
background: #1a1d29;
color: #e8eaf0;
min-height: 100vh;
padding: 20px;
}

.container {
max-width: 900px;
margin: 0 auto;
background: #252936;
border-radius: 15px;
padding: 30px;
box-shadow: 0 8px 30px rgba(0,0,0,0.5);
}

h1 {
text-align: center;
color: #4a9eff;
margin-bottom: 10px;
font-size: 2rem;
}

.subtitle {
text-align: center;
color: #9ba3b4;
margin-bottom: 30px;
}

.hidden { display: none !important; }

/* è¼¸å…¥æ¡† */
input[type=â€œtextâ€] {
width: 100%;
padding: 15px;
font-size: 16px;
background: #2f3444;
border: 2px solid #4a9eff;
border-radius: 8px;
color: #e8eaf0;
margin: 10px 0;
}

input[type=â€œtextâ€]:focus {
outline: none;
border-color: #64b5f6;
box-shadow: 0 0 15px rgba(74, 158, 255, 0.3);
}

/* æŒ‰éˆ• */
.btn {
width: 100%;
padding: 15px;
margin: 10px 0;
font-size: 1.1rem;
font-weight: 600;
border: none;
border-radius: 8px;
cursor: pointer;
transition: all 0.3s;
}

.btn-primary {
background: linear-gradient(135deg, #4a9eff, #64b5f6);
color: #1a1d29;
}

.btn-primary:hover {
background: linear-gradient(135deg, #64b5f6, #82c4ff);
box-shadow: 0 0 20px rgba(74, 158, 255, 0.5);
}

.btn-secondary {
background: #2f3444;
color: #9ba3b4;
border: 2px solid #4a9eff;
}

/* è©•åˆ†å€åŸŸ */
.category {
margin: 25px 0;
padding: 20px;
background: #2f3444;
border-radius: 12px;
}

.category h3 {
color: #4a9eff;
margin-bottom: 15px;
}

.indicator {
margin: 12px 0;
padding: 12px;
background: #252936;
border-radius: 8px;
}

.indicator-name {
color: #e8eaf0;
margin-bottom: 10px;
font-weight: 600;
}

.score-buttons {
display: grid;
grid-template-columns: repeat(5, 1fr);
gap: 8px;
}

.score-btn {
padding: 12px;
font-size: 1.1rem;
font-weight: bold;
background: #2f3444;
border: 2px solid #4a9eff;
border-radius: 8px;
color: #9ba3b4;
cursor: pointer;
transition: all 0.3s;
}

.score-btn:hover {
border-color: #64b5f6;
background: #1a1d29;
color: #4a9eff;
}

.score-btn.active {
background: linear-gradient(135deg, #4a9eff, #64b5f6);
color: #1a1d29;
border-color: #4a9eff;
box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
transform: scale(1.05);
}

/* è­‰ç…§é¸æ“‡ */
.cert-list {
margin: 20px 0;
}

.cert-item {
display: flex;
align-items: center;
gap: 12px;
padding: 12px;
margin: 8px 0;
background: #2f3444;
border-radius: 8px;
cursor: pointer;
transition: all 0.3s;
}

.cert-item:hover {
background: #1a1d29;
border: 1px solid #4a9eff;
}

.cert-item input {
width: 20px;
height: 20px;
cursor: pointer;
}

.cert-info {
flex: 1;
color: #e8eaf0;
}

.cert-bonus {
background: #52c41a;
color: white;
padding: 4px 10px;
border-radius: 12px;
font-size: 0.85rem;
margin-left: 10px;
}

.cert-summary {
margin-top: 20px;
padding: 15px;
background: #2f3444;
border: 2px solid #4a9eff;
border-radius: 10px;
}

.cert-tag {
display: inline-block;
background: #4a9eff;
color: #1a1d29;
padding: 6px 12px;
border-radius: 15px;
margin: 4px;
font-size: 0.85rem;
}

.total-bonus {
color: #52c41a;
font-size: 1.2rem;
font-weight: 700;
margin-top: 10px;
}

/* çµæœ */
.result-box {
text-align: center;
padding: 30px;
}

.total-score {
font-size: 4rem;
font-weight: bold;
color: #4a9eff;
text-shadow: 0 0 30px rgba(74, 158, 255, 0.5);
margin: 20px 0;
}

.level {
font-size: 1.5rem;
color: #82c4ff;
margin: 15px 0;
}

#radarChart {
max-width: 450px;
margin: 30px auto;
}

/* æ‰‹æ©Ÿç‰ˆ */
@media (max-width: 768px) {
body { padding: 10px; }
.container { padding: 20px; }
h1 { font-size: 1.5rem; }
.score-btn { padding: 10px; font-size: 1rem; }
.total-score { font-size: 3rem; }
}
</style>

</head>
<body>
<div class="container">
    <h1>ğŸ“Š PM æˆ°é¬¥åŠ›è©•ä¼°ç³»çµ±</h1>
    <p class="subtitle">PM POWER ASSESSMENT SYSTEM</p>

```
<div id="step1">
    <h2 style="color: #4a9eff; margin: 20px 0;">ğŸ‘¤ è©•ä¼°å°è±¡</h2>
    <input type="text" id="userName" placeholder="è«‹è¼¸å…¥å§“å">
    <button class="btn btn-primary" onclick="goToStep2()">ä¸‹ä¸€æ­¥ï¼šé¸æ“‡è­‰ç…§ â†’</button>
</div>

<div id="step2" class="hidden">
    <h2 style="color: #4a9eff; margin: 20px 0;">ğŸ† å°ˆæ¥­è­‰ç…§</h2>
    <div class="cert-list" id="certList"></div>
    <div id="certSummary" class="cert-summary hidden">
        <div id="certTags"></div>
        <div class="total-bonus" id="bonusDisplay"></div>
    </div>
    <button class="btn btn-secondary" onclick="backToStep1()">â† è¿”å›</button>
    <button class="btn btn-primary" onclick="startAssessment()">é–‹å§‹è©•ä¼° â†’</button>
</div>

<div id="step3" class="hidden">
    <h2 style="color: #4a9eff; margin: 20px 0;" id="assessmentTitle"></h2>
    <div id="assessmentArea"></div>
    <button class="btn btn-primary" onclick="calculateResult()">ğŸš€ è¨ˆç®—çµæœ</button>
</div>

<div id="step4" class="hidden">
    <div class="result-box">
        <h2 style="color: #4a9eff;">è©•ä¼°çµæœ</h2>
        <div class="total-score" id="finalScore">0</div>
        <div class="level" id="finalLevel"></div>
        <canvas id="radarChart"></canvas>
    </div>
    <button class="btn btn-primary" onclick="location.reload()">ğŸ”„ é‡æ–°è©•ä¼°</button>
</div>
```

</div>

<script>
const categories = [
    { name: 'æºé€šåŠ›', weight: 30, indicators: ['åˆ©å®³é—œä¿‚äººæºé€š', 'åœ˜éšŠæºé€šå”èª¿', 'æœƒè­°ç®¡ç†', 'è¡çªç®¡ç†', 'è³‡è¨Šåˆ†äº«'] },
    { name: 'æŠ€è¡“åŠ›', weight: 20, indicators: ['å½±åƒç³»çµ±', 'ç¶²è·¯ç³»çµ±', 'è²éŸ³ç³»çµ±', 'ç’°æ§/BA', 'è·¨ç³»çµ±é™¤éŒ¯'] },
    { name: 'åŸ·è¡Œç®¡æ§åŠ›', weight: 20, indicators: ['é€²åº¦è¿½è¹¤', 'æˆæœ¬é è­¦', 'å“è³ªç®¡æ§', 'è®Šæ›´ç®¡ç†', 'äº¤ä»˜é©—æ”¶'] },
    { name: 'é ˜å°åŠ›', weight: 15, indicators: ['åœ˜éšŠæ¿€å‹µ', 'æˆæ¬Šè³¦èƒ½', 'æ±ºç­–åˆ¤æ–·', 'å±æ©Ÿè™•ç†'] },
    { name: 'è¦åŠƒåŠ›', weight: 10, indicators: ['å°ˆæ¡ˆè¦åŠƒ', 'è³‡æºèª¿é…', 'é¢¨éšªè­˜åˆ¥'] },
    { name: 'å•†æ¥­æ„è­˜', weight: 5, indicators: ['æˆæœ¬æ•ˆç›Š', 'å®¢æˆ¶å°å‘'] }
];

const certs = [
    { id: 'pmp', name: 'PMP', bonus: 10 },
    { id: 'capm', name: 'CAPM', bonus: 5 },
    { id: 'ccna', name: 'CCNA', bonus: 6 },
    { id: 'ccnp', name: 'CCNP', bonus: 10 },
    { id: 'cissp', name: 'CISSP', bonus: 10 },
    { id: 'cts', name: 'CTS', bonus: 8 }
];

let selectedCerts = [];
let scores = {};
let chart = null;

function goToStep2() {
    if (!document.getElementById('userName').value.trim()) {
        alert('è«‹è¼¸å…¥å§“åï¼');
        return;
    }
    document.getElementById('step1').classList.add('hidden');
    document.getElementById('step2').classList.remove('hidden');
    renderCerts();
}

function backToStep1() {
    document.getElementById('step2').classList.add('hidden');
    document.getElementById('step1').classList.remove('hidden');
}

function renderCerts() {
    const list = document.getElementById('certList');
    list.innerHTML = certs.map(c => `
        <label class="cert-item">
            <input type="checkbox" onchange="toggleCert('${c.id}', ${c.bonus}, '${c.name}')">
            <div class="cert-info">
                ${c.name}<span class="cert-bonus">+${c.bonus}åˆ†</span>
            </div>
        </label>
    `).join('');
}

function toggleCert(id, bonus, name) {
    const idx = selectedCerts.findIndex(c => c.id === id);
    if (idx > -1) {
        selectedCerts.splice(idx, 1);
    } else {
        selectedCerts.push({ id, bonus, name });
    }
    
    const summary = document.getElementById('certSummary');
    if (selectedCerts.length === 0) {
        summary.classList.add('hidden');
        return;
    }
    
    summary.classList.remove('hidden');
    document.getElementById('certTags').innerHTML = selectedCerts.map(c => 
        `<span class="cert-tag">${c.name} (+${c.bonus})</span>`
    ).join('');
    document.getElementById('bonusDisplay').textContent = 
        `ç¸½åŠ åˆ†ï¼š${selectedCerts.reduce((s, c) => s + c.bonus, 0)} åˆ†`;
}

function startAssessment() {
    document.getElementById('assessmentTitle').textContent = 
        document.getElementById('userName').value + ' çš„èƒ½åŠ›è©•ä¼°';
    document.getElementById('step2').classList.add('hidden');
    document.getElementById('step3').classList.remove('hidden');
    renderAssessment();
}

function renderAssessment() {
    const area = document.getElementById('assessmentArea');
    area.innerHTML = '';
    
    categories.forEach((cat, ci) => {
        const div = document.createElement('div');
        div.className = 'category';
        div.innerHTML = `<h3>${cat.name}</h3>`;
        
        cat.indicators.forEach((ind, ii) => {
            const key = `${ci}-${ii}`;
            const indDiv = document.createElement('div');
            indDiv.className = 'indicator';
            indDiv.innerHTML = `
                <div class="indicator-name">${ind}</div>
                <div class="score-buttons">
                    ${[1,2,3,4,5].map(s => 
                        `<button class="score-btn" onclick="selectScore('${key}', ${s}, this)">${s}</button>`
                    ).join('')}
                </div>
            `;
            div.appendChild(indDiv);
        });
        
        area.appendChild(div);
    });
}

function selectScore(key, score, btn) {
    scores[key] = score;
    btn.parentElement.querySelectorAll('.score-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
}

function calculateResult() {
    let total = 0;
    categories.forEach(cat => total += cat.indicators.length);
    
    if (Object.keys(scores).length < total) {
        alert('è«‹å®Œæˆæ‰€æœ‰è©•åˆ†ï¼');
        return;
    }
    
    let base = 0;
    const catScores = [];
    
    categories.forEach((cat, ci) => {
        let sum = 0;
        cat.indicators.forEach((ind, ii) => {
            sum += scores[`${ci}-${ii}`];
        });
        const percent = (sum / (cat.indicators.length * 5)) * 100;
        catScores.push(percent / 10);
        base += percent * (cat.weight / 100);
    });
    
    const certBonus = selectedCerts.reduce((s, c) => s + c.bonus, 0);
    const final = Math.min(base + certBonus, 100);
    
    document.getElementById('step3').classList.add('hidden');
    document.getElementById('step4').classList.remove('hidden');
    document.getElementById('finalScore').textContent = final.toFixed(1);
    
    let level = '';
    if (final >= 90) level = 'ğŸ† ç¥ç´šPMå€™é¸';
    else if (final >= 80) level = 'â­ é ‚å°–å·¥ç¨‹å¸«';
    else if (final >= 70) level = 'ğŸ¯ è³‡æ·±å¯é ';
    else if (final >= 60) level = 'ğŸ’ª ä¸­å …æˆ°åŠ›';
    else level = 'ğŸŒ± æˆé•·ä¸­';
    
    document.getElementById('finalLevel').textContent = level;
    drawChart(catScores);
}

function drawChart(data) {
    const ctx = document.getElementById('radarChart');
    if (chart) chart.destroy();
    
    chart = new Chart(ctx, {
        type: 'radar',
        data: {
            labels: categories.map(c => c.name),
            datasets: [{
                label: 'èƒ½åŠ›åˆ†æ•¸',
                data: data,
                backgroundColor: 'rgba(74, 158, 255, 0.2)',
                borderColor: '#4a9eff',
                borderWidth: 2,
                pointBackgroundColor: '#4a9eff',
                pointBorderColor: '#fff',
                pointRadius: 4
            }]
        },
        options: {
            responsive: true,
            scales: {
                r: {
                    beginAtZero: true,
                    max: 10,
                    ticks: { stepSize: 2, color: '#9ba3b4' },
                    grid: { color: '#2f3444' },
                    pointLabels: { color: '#e8eaf0' }
                }
            },
            plugins: {
                legend: { labels: { color: '#e8eaf0' } }
            }
        }
    });
}

console.log('âœ… ç³»çµ±å·²è¼‰å…¥');
</script>

</body>
</html>
