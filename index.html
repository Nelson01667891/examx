<!DOCTYPE html>

<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta name="mobile-web-app-capable" content="yes">
    <title>PMË©ï‰º∞Á≥ªÁµ±</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        color: #333;
    }
    
    .container {
        max-width: 800px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    h1 {
        text-align: center;
        color: #667eea;
        margin-bottom: 10px;
        font-size: 2rem;
    }
    
    .subtitle {
        text-align: center;
        color: #999;
        margin-bottom: 30px;
        font-size: 0.9rem;
    }
    
    .hidden { display: none !important; }
    
    /* Ëº∏ÂÖ•ÂçÄÂüü */
    .input-box {
        margin: 20px 0;
    }
    
    .input-box label {
        display: block;
        margin-bottom: 10px;
        font-weight: 600;
        color: #555;
    }
    
    .input-box input {
        width: 100%;
        padding: 15px;
        font-size: 16px;
        border: 2px solid #ddd;
        border-radius: 10px;
        transition: border-color 0.3s;
    }
    
    .input-box input:focus {
        outline: none;
        border-color: #667eea;
    }
    
    /* ÊåâÈàï */
    .btn {
        width: 100%;
        padding: 16px;
        margin: 10px 0;
        font-size: 1.1rem;
        font-weight: 600;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }
    
    .btn-secondary {
        background: #f0f0f0;
        color: #666;
    }
    
    .btn:active {
        transform: scale(0.98);
    }
    
    /* Ë©ïÂàÜÂçÄÂüü */
    .category {
        margin: 30px 0;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 15px;
    }
    
    .category h3 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.3rem;
    }
    
    .indicator {
        margin: 15px 0;
        padding: 15px;
        background: white;
        border-radius: 10px;
    }
    
    .indicator-name {
        margin-bottom: 10px;
        font-weight: 600;
        color: #333;
    }
    
    .score-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }
    
    .score-btn {
        flex: 1;
        min-width: 60px;
        padding: 15px;
        font-size: 1.2rem;
        font-weight: bold;
        border: 2px solid #ddd;
        background: white;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
    }
    
    .score-btn:hover {
        border-color: #667eea;
        background: #f0f0ff;
    }
    
    .score-btn.active {
        background: #667eea;
        color: white;
        border-color: #667eea;
    }
    
    /* ÁµêÊûúÈ†ÅÈù¢ */
    .result-box {
        text-align: center;
        padding: 30px;
    }
    
    .total-score {
        font-size: 4rem;
        font-weight: bold;
        color: #667eea;
        margin: 20px 0;
    }
    
    .level {
        font-size: 1.5rem;
        color: #666;
        margin: 10px 0;
    }
    
    #radarChart {
        max-width: 400px;
        margin: 30px auto;
    }
    
    /* ÊâãÊ©üÁâàÂÑ™Âåñ */
    @media (max-width: 768px) {
        .container {
            padding: 20px;
        }
        
        h1 {
            font-size: 1.5rem;
        }
        
        .score-btn {
            min-width: 50px;
            padding: 12px;
        }
        
        .total-score {
            font-size: 3rem;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <h1>üìä PM Êà∞È¨•ÂäõË©ï‰º∞Á≥ªÁµ±</h1>
        <p class="subtitle">PM POWER ASSESSMENT SYSTEM</p>

```
    <!-- Ê≠•È©ü1: Ëº∏ÂÖ•ÂßìÂêç -->
    <div id="step1">
        <div class="input-box">
            <label>üë§ Ë´ãËº∏ÂÖ•ÂßìÂêç</label>
            <input type="text" id="userName" placeholder="‰æãÂ¶ÇÔºöÂºµ‰∏â">
        </div>
        <button class="btn btn-primary" onclick="startAssessment()">ÈñãÂßãË©ï‰º∞ ‚Üí</button>
    </div>
    
    <!-- Ê≠•È©ü2: Ë©ï‰º∞ -->
    <div id="step2" class="hidden">
        <h2 style="margin-bottom: 20px; color: #667eea;" id="assessmentTitle"></h2>
        <div id="assessmentArea"></div>
        <button class="btn btn-primary" onclick="calculateResult()">üöÄ Ë®àÁÆóÁµêÊûú</button>
        <button class="btn btn-secondary" onclick="resetAssessment()">‚Üê ÈáçÊñ∞ÈñãÂßã</button>
    </div>
    
    <!-- Ê≠•È©ü3: ÁµêÊûú -->
    <div id="step3" class="hidden">
        <div class="result-box">
            <h2>Ë©ï‰º∞ÁµêÊûú</h2>
            <div class="total-score" id="finalScore">0</div>
            <div class="level" id="finalLevel"></div>
            <canvas id="radarChart"></canvas>
        </div>
        <button class="btn btn-primary" onclick="resetAssessment()">üîÑ ÈáçÊñ∞Ë©ï‰º∞</button>
    </div>
</div>

<script>
    // Ë©ï‰º∞Ë≥áÊñô
    const categories = [
        {
            name: 'Ê∫ùÈÄöÂäõ',
            weight: 30,
            indicators: ['Âà©ÂÆ≥Èóú‰øÇ‰∫∫Ê∫ùÈÄö', 'ÂúòÈöäÊ∫ùÈÄöÂçîË™ø', 'ÊúÉË≠∞ÁÆ°ÁêÜ', 'Ë°ùÁ™ÅÁÆ°ÁêÜ', 'Ë≥áË®äÂàÜ‰∫´ËàáÂ†±Âëä']
        },
        {
            name: 'ÊäÄË°ìÂäõ',
            weight: 20,
            indicators: ['ÂΩ±ÂÉèÁ≥ªÁµ±', 'Á∂≤Ë∑ØÁ≥ªÁµ±', 'ËÅ≤Èü≥Á≥ªÁµ±', 'Áí∞Êéß/BA', 'Ë∑®Á≥ªÁµ±Èô§ÈåØ']
        },
        {
            name: 'Âü∑Ë°åËàáÁÆ°ÊéßÂäõ',
            weight: 20,
            indicators: ['ÈÄ≤Â∫¶ËøΩËπ§', 'ÊàêÊú¨È†êË≠¶', 'ÂìÅË≥™ÁÆ°Êéß', 'ËÆäÊõ¥ÁÆ°ÁêÜ', '‰∫§‰ªòÈ©óÊî∂']
        },
        {
            name: 'È†òÂ∞éÂäõ',
            weight: 15,
            indicators: ['ÂúòÈöäÊøÄÂãµ', 'ÊéàÊ¨äËàáË≥¶ËÉΩ', 'Ê±∫Á≠ñÂà§Êñ∑', 'Âç±Ê©üËôïÁêÜ']
        },
        {
            name: 'Ë¶èÂäÉÂäõ',
            weight: 10,
            indicators: ['Â∞àÊ°àË¶èÂäÉ', 'Ë≥áÊ∫êË™øÈÖç', 'È¢®Èö™Ë≠òÂà•']
        },
        {
            name: 'ÂïÜÊ•≠ÊÑèË≠ò',
            weight: 5,
            indicators: ['ÊàêÊú¨ÊïàÁõä', 'ÂÆ¢Êà∂Â∞éÂêë']
        }
    ];
    
    let scores = {};
    let chartInstance = null;
    
    function startAssessment() {
        const name = document.getElementById('userName').value.trim();
        if (!name) {
            alert('Ë´ãËº∏ÂÖ•ÂßìÂêçÔºÅ');
            return;
        }
        
        document.getElementById('assessmentTitle').textContent = name + ' ÁöÑËÉΩÂäõË©ï‰º∞';
        document.getElementById('step1').classList.add('hidden');
        document.getElementById('step2').classList.remove('hidden');
        
        renderAssessment();
    }
    
    function renderAssessment() {
        const area = document.getElementById('assessmentArea');
        area.innerHTML = '';
        
        categories.forEach((cat, catIdx) => {
            const catDiv = document.createElement('div');
            catDiv.className = 'category';
            catDiv.innerHTML = `<h3>${cat.name}</h3>`;
            
            cat.indicators.forEach((ind, indIdx) => {
                const key = `${catIdx}-${indIdx}`;
                const indDiv = document.createElement('div');
                indDiv.className = 'indicator';
                indDiv.innerHTML = `
                    <div class="indicator-name">${ind}</div>
                    <div class="score-buttons">
                        ${[1, 2, 3, 4, 5].map(score => 
                            `<button class="score-btn" onclick="selectScore('${key}', ${score}, this)">${score}</button>`
                        ).join('')}
                    </div>
                `;
                catDiv.appendChild(indDiv);
            });
            
            area.appendChild(catDiv);
        });
    }
    
    function selectScore(key, score, btn) {
        scores[key] = score;
        
        // Êõ¥Êñ∞ÊåâÈàïÊ®£Âºè
        const buttons = btn.parentElement.querySelectorAll('.score-btn');
        buttons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
    }
    
    function calculateResult() {
        // Ê™¢Êü•ÊòØÂê¶ÂÖ®ÈÉ®Ë©ïÂàÜ
        let totalIndicators = 0;
        categories.forEach(cat => {
            totalIndicators += cat.indicators.length;
        });
        
        if (Object.keys(scores).length < totalIndicators) {
            alert('Ë´ãÂÆåÊàêÊâÄÊúâÈ†ÖÁõÆÁöÑË©ïÂàÜÔºÅ');
            return;
        }
        
        // Ë®àÁÆóÂàÜÊï∏
        let finalScore = 0;
        const catScores = [];
        
        categories.forEach((cat, catIdx) => {
            let catSum = 0;
            cat.indicators.forEach((ind, indIdx) => {
                const key = `${catIdx}-${indIdx}`;
                catSum += scores[key];
            });
            const catPercent = (catSum / (cat.indicators.length * 5)) * 100;
            catScores.push(catPercent / 10); // ËΩâÁÇ∫10ÂàÜÂà∂
            finalScore += catPercent * (cat.weight / 100);
        });
        
        // È°ØÁ§∫ÁµêÊûú
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('step3').classList.remove('hidden');
        document.getElementById('finalScore').textContent = finalScore.toFixed(1);
        
        let level = '';
        if (finalScore >= 90) level = 'üèÜ Á•ûÁ¥öPMÂÄôÈÅ∏';
        else if (finalScore >= 80) level = '‚≠ê È†ÇÂ∞ñÂ∑•Á®ãÂ∏´';
        else if (finalScore >= 70) level = 'üéØ Ë≥áÊ∑±ÂèØÈù†';
        else if (finalScore >= 60) level = 'üí™ ‰∏≠Â†ÖÊà∞Âäõ';
        else level = 'üå± ÊàêÈï∑‰∏≠';
        
        document.getElementById('finalLevel').textContent = level;
        
        // Áπ™Ë£ΩÈõ∑ÈÅîÂúñ
        drawChart(catScores);
    }
    
    function drawChart(data) {
        const ctx = document.getElementById('radarChart').getContext('2d');
        
        if (chartInstance) {
            chartInstance.destroy();
        }
        
        chartInstance = new Chart(ctx, {
            type: 'radar',
            data: {
                labels: categories.map(c => c.name),
                datasets: [{
                    label: 'ËÉΩÂäõÂàÜÊï∏',
                    data: data,
                    backgroundColor: 'rgba(102, 126, 234, 0.2)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                    pointBorderColor: '#fff',
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                scales: {
                    r: {
                        beginAtZero: true,
                        max: 10,
                        ticks: { stepSize: 2 }
                    }
                }
            }
        });
    }
    
    function resetAssessment() {
        scores = {};
        document.getElementById('step2').classList.add('hidden');
        document.getElementById('step3').classList.add('hidden');
        document.getElementById('step1').classList.remove('hidden');
        document.getElementById('userName').value = '';
    }
    
    console.log('‚úÖ PMË©ï‰º∞Á≥ªÁµ±Â∑≤ËºâÂÖ•');
</script>
```

</body>
</html>
